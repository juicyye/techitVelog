<!DOCTYPE html>
<html th:replace="~{/layout/header :: header(~{::title},~{::section})}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>블로그</title>

</head>
<body>
<section class="container mt-4">
    <li class="nav-item" th:if="${param.delete}">
        <span class="navbar-text">삭제가 완료되었습니다.</span>
    </li>
    <li class="nav-item" th:if="${param.update}">
        <span class="navbar-text">수정이 완료되었습니다.</span>
    </li>
    <div class="card p-4">
        <div class="mb-3">
            <h3 class="card-title"><a href="" th:href="@{|/${post.blogName}|}" th:text="${post.blogName}"></a></h3>
        </div>
        <div class="mb-3">
            <h3 class="card-title">제목: <span th:text="${post.title}"></span></h3>
        </div>
        <div class="mb-3">
            <h3 class="card-text">내용: <span th:text="${post.content}"></span></h3>
        </div>
        <div class="mb-3">
            <h3 class="card-text">작성일자: <span th:text="${#temporals.format(post.createDate,'yyyy-MM-dd')}"></span></h3>
        </div>
        <div class="mb-3">
            <h3 class="card-text">수정일자: <span th:text="${#temporals.format(post.updateDate,'yyyy-MM-dd')}"></span></h3>
        </div>
        <div class="mb-3">
            <h3 class="card-text">조회수: <span th:text="${post.views}"></span></h3>
        </div>

        <button th:onclick="|location.href='@{|/like/${post.blogName}/${post.postId}|}'|" class="btn btn-primary mb-3">
            추천하기
        </button>
        <div class="mb-3">
            <h3 class="card-text">추천수: <span th:text="${post.likes}"></span></h3>
        </div>

        <div>
            <button th:onclick="|location.href='@{|/${post.blogName}/${post.title}/postModify/${post.postId}|}'|">수정하기</button>
            <button th:onclick="|location.href='@{|/${post.blogName}/postDelete/${post.postId}|}'|">삭제하기</button>
        </div>

        <div class="mb-4">
            <ul class="list-group list-unstyled">
                <div th:each="comment : ${comments}">
                    <div th:replace="~{comment/comments :: commentTemplate(${comment},${post})}"></div>
                </div>
            </ul>
        </div>

        <div class="mb-3">
            <form action="" th:action="@{|/${post.blogName}/${post.title}/comment|}" method="post" class="form-inline">
                <div class="form-group mr-2">
                    <label for="content" class="sr-only">댓글</label>
                    <input type="hidden" name="postId" th:value="${post.postId}">
                    <input type="text" id="content" name="content" class="form-control" placeholder="댓글을 입력하세요">
                </div>
                <button type="submit" class="btn btn-secondary">댓글</button>
            </form>
        </div>
    </div>
</section>

</body>
</html>
